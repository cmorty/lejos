<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"
 lang="en">
<head>
<!-- CSS -->
  <link rel="stylesheet" href="../r_css/lejos-tutorial.css"
 type="text/css">
<!-- ICON -->
  <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
<!-- STEP1: COPY & PASTE HEAD SECTION FROM HTML IN OPEN OFFICE CONVERSION -->
  <title>Advanced Motors, Sensors and Third Party Hardware</title>
  <meta name="GENERATOR" content="OpenOffice.org 2.4  (Win32)">
  <meta name="AUTHOR" content="Roger">
  <meta name="CREATED" content="20080820;12390000">
  <meta name="CHANGED" content="20080820;12501464">
  <style type="text/css">
		<!--
			@page { size: 8.5in 11in; margin-right: 1.25in; margin-top: 1in; margin-bottom: 1in }
			P { margin-bottom: 0.08in; direction: ltr; color: #000000; widows: 2; orphans: 2 }
			P.western { font-family: "Times New Roman", serif; font-size: 12pt; so-language: en-US }
			P.cjk { font-family: "Times New Roman", serif; font-size: 12pt }
			P.ctl { font-family: "Times New Roman", serif; font-size: 12pt; so-language: ar-SA }
			H1 { margin-bottom: 0.04in; direction: ltr; color: #ff6600; widows: 2; orphans: 2 }
			H1.western { font-family: "Arial", sans-serif; font-size: 16pt; so-language: en-US }
			H1.cjk { font-family: "Times New Roman", serif; font-size: 16pt }
			H1.ctl { font-family: "Arial", sans-serif; font-size: 16pt; so-language: ar-SA }
			H2 { margin-bottom: 0.08in; direction: ltr; color: #ff6600; widows: 2; orphans: 2 }
			H2.western { font-family: "Arial", sans-serif; font-size: 14pt; so-language: en-US; font-style: italic; font-weight: medium }
			H2.cjk { font-family: "Times New Roman", serif; font-size: 14pt; font-style: italic; font-weight: medium }
			H2.ctl { font-family: "Arial", sans-serif; font-size: 14pt; so-language: ar-SA; font-style: italic; font-weight: medium }
			H3 { margin-left: 0.2in; margin-bottom: 0.08in; direction: ltr; color: #ff6600; widows: 2; orphans: 2 }
			H3.western { font-family: "Arial", sans-serif; font-size: 13pt; so-language: en-GB; font-style: normal }
			H3.cjk { font-family: "Times New Roman", serif; font-size: 13pt; font-style: normal }
			H3.ctl { font-family: "Arial", sans-serif; font-size: 13pt; so-language: ar-SA; font-style: normal }
			H4 { margin-left: 0.3in; margin-bottom: 0.04in; direction: ltr; color: #000000; widows: 2; orphans: 2 }
			H4.western { font-family: "Arial", sans-serif; so-language: en-GB; font-style: normal }
			H4.cjk { font-family: "Times New Roman", serif; font-style: normal }
			H4.ctl { font-family: "Arial", sans-serif; so-language: ar-SA; font-style: italic; font-weight: medium }
			P.body-text-2-western { margin-left: 0.1in; font-family: "Times New Roman", serif; font-size: 12pt; so-language: en-US }
			P.body-text-2-cjk { margin-left: 0.1in; font-family: "Times New Roman", serif; font-size: 12pt }
			P.body-text-2-ctl { margin-left: 0.1in; font-family: "Times New Roman", serif; font-size: 12pt; so-language: ar-SA }
			P.body-text-3-western { margin-left: 0.2in; font-family: "Times New Roman", serif; font-size: 12pt; so-language: en-US }
			P.body-text-3-cjk { margin-left: 0.2in; font-family: "Times New Roman", serif; font-size: 12pt }
			P.body-text-3-ctl { margin-left: 0.2in; font-family: "Times New Roman", serif; font-size: 8pt; so-language: ar-SA }
			P.body-text-4-western { margin-left: 0.3in; font-family: "Times New Roman", serif; font-size: 12pt; so-language: en-US }
			P.body-text-4-cjk { margin-left: 0.3in; font-family: "Times New Roman", serif; font-size: 12pt }
			P.body-text-4-ctl { margin-left: 0.3in; font-family: "Times New Roman", serif; font-size: 8pt; so-language: ar-SA }
			A:link { color: #0000ff }
			A:visited { color: #800080 }
		-->
		</style>
</head>
<body>
<a id="top" name="top"></a><!-- N1: HEADER -->
<table class="n1t1" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td><img src="../r_media/images/tutorial_header1.jpg"></td>
      <td align="right"><img
 src="../r_media/images/tutorial_header2.jpg"></td>
    </tr>
  </tbody>
</table>
<!-- N2: CONTENTS -> NAVIGATION SYSTEMS AND CONTENTS -->
<table class="n2t1" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td class="n2t1r1c1"><!-- STEP 2: COPY AND PASTE LEFT NAVIGATION SYSTEM -->
      <p><a
 href="#1.Advanced%20Topics%20:%20%20Motors,%20Sensors,%20Third%20Party%20Hardware%7Coutline">Advanced
Topics : Motors, Sensors, Third Party Hardware</a></p>
      <p style="margin-left: 0.17in;"><a
 href="#1.1.Motor%20classes%7Coutline">Motor classes</a></p>
      <p style="margin-left: 0.5in;"><a
 href="#1.1.0.1.BasicMotor%7Coutline">BasicMotor</a></p>
      <p style="margin-left: 0.5in;"><a
 href="#1.1.0.2.RCX%20Motors%7Coutline">RCX Motors</a></p>
      <p><a href="#2.Motor%7Coutline">Motor</a></p>
      <p style="margin-left: 0.17in;"><a
 href="#2.1.Motor%20Port%20classes%7Coutline">Motor Port classes</a></p>
      <p style="margin-left: 0.17in;"><a
 href="#2.2.Sensor%20Ports%7Coutline">Sensor Ports</a></p>
      <p style="margin-left: 0.17in;"><a href="#2.3.Sensors%7Coutline">Sensors</a></p>
      <p style="margin-left: 0.33in;"><a
 href="#2.3.1.RCX%20Sensors%20%7Coutline">RCX Sensors </a> </p>
      <p style="margin-left: 0.5in;"><a
 href="#2.3.1.1.RCX%20Light%20Sensor%7Coutline">RCX Light Sensor</a></p>
      <p style="margin-left: 0.5in;"><a
 href="#2.3.1.2.RCX%20Touch%20Sensor%7Coutline">RCX Touch Sensor</a></p>
      <p style="margin-left: 0.5in;"><a
 href="#2.3.1.3.RCX%20Rotation%20Sensor%7Coutline">RCX Rotation Sensor</a></p>
      <p style="margin-left: 0.5in;"><a
 href="#2.3.1.4.RCX%20Temperature%20Sensor%7Coutline">RCX Temperature
Sensor</a></p>
      <p style="margin-left: 0.33in;"><a
 href="#2.3.2.Third%20Party%20sensors%20and%20other%20devices%7Coutline">Third
Party sensors and other devices</a></p>
      <p style="margin-left: 0.33in;"><a
 href="#2.3.3.I2CSensor%7Coutline">I2CSensor</a></p>
      </td>
      <td><!-- DO NOT MANINPULATE -->
      <div id="BreadCrumbs"> <a href="../index.htm" target="_top">Home
Page</a> &gt; <a href="#">Advanced Motors, Sensors and Third Party
Hardware</a> </div>
      <div class="NavBit"> <a target="_top"
 href="../Utilities/LejosUtilities.htm">&laquo;&nbsp;Previous</a>&nbsp;&#8226;&nbsp;<a
 href="../index.htm">TOC</a>&nbsp;&#8226;&nbsp;<a
 href="../AdvancedTopics/UnderstandingFilesLCPMemTools.htm">Next&nbsp;&raquo;</a>
      </div>
<!-- CONTENT TITLE -->
      <div id="PageTitle">Advanced Motors, Sensors and Third Party
Hardware</div>
      <a
 name="1.Advanced Topics :  Motors, Sensors, Third Party Hardware|outline"></a><br>
&nbsp;&nbsp;&nbsp;&nbsp; The classes to control hardware not included
in the NXT , including RCX motors and sensors, and third party
hardware, are in the package&nbsp;<span style="font-weight: bold;">
lejos.nxt.addon .</span><br>
      <h2 class="western"><a name="1.1.Motor classes|outline"></a>Motor
classes</h2>
      <h4 class="western" lang="en-GB"><a
 name="1.1.0.1.BasicMotor|outline"></a> BasicMotor</h4>
      <p class="body-text-4-western" lang="en-GB">This is the top level
of the Motor class hierarchy, and implements the following methods:</p>
      <ul>
        <li>
          <p class="western">public void setPower(int power)</p>
        </li>
        <li>
          <p class="western">public int getPower()</p>
        </li>
        <li>
          <p class="western">public void forward()</p>
        </li>
        <li>
          <p class="western">public boolean isForward()</p>
        </li>
        <li>
          <p class="western">public void backward()</p>
        </li>
        <li>
          <p class="western">public boolean isBackward()</p>
        </li>
        <li>
          <p class="western">public void reverseDirection()</p>
        </li>
        <li>
          <p class="western">public boolean isMoving()</p>
        </li>
        <li>
          <p class="western">public void flt()</p>
        </li>
        <li>
          <p class="western">public boolean isFloating()</p>
        </li>
        <li>
          <p class="western">public void stop()</p>
        </li>
        <li>
          <p class="western">public boolean isStopped()</p>
        </li>
        <li>
          <p class="western">public int getMode()</p>
        </li>
      </ul>
      <p class="body-text-3-western"><br>
      <br>
      </p>
      <h4 class="western" lang="en-GB"><a
 name="1.1.0.2.RCX Motors|outline"></a> RCX Motors<br>
      </h4>
      <p class="body-text-4-western">The RCX motors do not have inbuilt
tachometer and so cannot support the advanced functions of the NXT
motors such as the rotate and rotateTo methods and the speed regulation.</p>
      <p class="body-text-4-western">A simpler class is used to support
the RCX motors. It has similar methods to the Motor class in the RCX
version of leJOS.</p>
      <p class="body-text-4-western">To use an RCX motor you create an
instance of the RCXMotor class using the constructor:</p>
      <ul>
        <li>
          <p class="western">public RCXMotor(BasicMotorPort port)</p>
        </li>
      </ul>
      <p class="western"> Example:</p>
      <p class="western"><span id="Frame1" dir="ltr"
 style="border: 1px solid rgb(0, 0, 0); padding: 0.05in 0.1in; background: rgb(255, 255, 255) none repeat scroll 0%; float: left; width: 4.62in; height: 0.36in; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
      <p class="western"><font face="Courier New, monospace"><font
 size="2">RCXMotor rcxMotor = new RCXMotor(MotorPort.A);</font></font></p>
      </span><br>
      <br>
      </p>
      <p class="western"><br>
      <br>
      </p>
      <h1 class="western"><a name="2.Motor|outline"></a>Motor</h1>
      <p class="body-text-4-western"><span lang="en-GB">This class
controls the NXT motors which have a built in tachometer. and is
described in </span><font color="#0000ff"><u><a
 href="../MotorTutorial/Controlling%20the%20Motors.htm"><span
 lang="en-GB">Controlling the Motors </span></a></u></font> </p>
      <h2 class="western"><a name="2.1.Motor Port classes|outline"></a>Motor
Port classes</h2>
      <p class="body-text-3-western">To use the NXT motors it is not
necessary to explicitly use the MotorPort class: you can just use the
variables Motor.A, Motor.B and Motor.C. So if you are only using NXT
motors, you can skip this section.</p>
      <p class="body-text-3-western">However it is useful to understand
how motor ports work as they are used by:</p>
      <ul>
        <li>
          <p class="western">The Motor class</p>
        </li>
        <li>
          <p class="western">The RCXMotor class</p>
        </li>
        <li>
          <p class="western">The RemoteNXT class</p>
        </li>
        <li>
          <p class="western">The RCXMotorMultiplexer class</p>
        </li>
        <li>
          <p class="western">Remote RCX motors accessed via the RCXLink
class</p>
        </li>
      </ul>
      <p class="body-text-3-western">There is a hierarchy of interfaces
defined for motor ports:</p>
      <ul>
        <li>
          <p class="western">BasicMotorPort</p>
        </li>
        <li>
          <p class="western">Tachometer</p>
        </li>
        <li>
          <p class="western">TachoMotorPort</p>
        </li>
      </ul>
      <p class="body-text-3-western">All motor ports support the
BasicMotorPort interface which allows control of a motors power and
mode (forward, backward, stop, float).</p>
      <p class="body-text-3-western">Port that supports this include:</p>
      <ul>
        <li>
          <p class="western">NXT ports connected to NXT motors</p>
        </li>
        <li>
          <p class="western">NXT ports connected via the RCX conversion
cable to RCX motors</p>
        </li>
        <li>
          <p class="western">Ports on the RCXMotorMultiplexer adapter</p>
        </li>
        <li>
          <p class="western">Ports on remote NXTs accessed via the
RemoteNXT class</p>
        </li>
        <li>
          <p class="western">Ports on remote RCXs accessed via the
RCXLink class</p>
        </li>
      </ul>
      <p class="body-text-3-western">The implementations of
BasicMotorPort include:</p>
      <ul>
        <li>
          <p class="western">MotorPort</p>
        </li>
        <li>
          <p class="western">RemoteMotorPort</p>
        </li>
        <li>
          <p class="western">RCXPlexedMotorPort</p>
        </li>
        <li>
          <p class="western">RCXRemoteMotorPort</p>
        </li>
      </ul>
      <p class="western" style="margin-left: 0.25in;"><br>
      <br>
      </p>
      <p class="body-text-3-western">The tachometers that are built in
to the NXT motors support the Tachometer interface.</p>
      <p class="body-text-3-western">NXT motor ports support the
TachoMotorPort interface which includes the BasicMotorPort and
Tachometer interfaces.</p>
      <p class="body-text-3-western">Implementations of TachoMotorPort
include:</p>
      <ul>
        <li>
          <p class="western">MotorPort</p>
        </li>
        <li>
          <p class="western">RemoteMotorPort</p>
        </li>
      </ul>
      <p class="western" style="margin-left: 0.5in;"><br>
      <br>
      </p>
      <p class="body-text-3-western">All this sounds rather
complicated, but is simple to use:</p>
      <ul>
        <li>
          <p class="western">For NXT motors, you use Motor.A, Motor.B
and Motor.C</p>
        </li>
        <li>
          <p class="western">For RCX motors connected by conversion
cable you use RCXMotor(MotorPort.A), RCXMotor(MotorPort.B) or
RCXMotor(MotorPort.C)</p>
        </li>
        <li>
          <p class="western">For NXT motors on a remote NXT, you use
remoteNXT.Motor.A, remoteNXT.Motor.B or remoteNXT.Motor.C where
remoteNXT is an instance of RemoteNXT.</p>
        </li>
        <li>
          <p class="western">For RCX motors connected by the RCX Motor
Multiplexer, you use rcxMotorMultiplexer.A, rcxMotorMultiplexer.B,
rcxMotorMultiPlexer.C or rcxMotorMultiplexer.D, where
rcxMotorMultiplexer is an instance of RCXMotorMultiPlexer.</p>
        </li>
        <li>
          <p class="western">For RCX motors connected t remote RCXs via
the RCXLink class you use rcxLink.A, rcxLink.B or rcxLink.C where
rcxLink is an instance of the RCXLink class.</p>
        </li>
      </ul>
      <p class="western"><br>
      <br>
      </p>
      <p class="western"><font color="#0000ff"><u><a
 href="#1.Advanced%20Topics%20:%20%20Motors,%20Sensors,%20Third%20Party%20Hardware%7Coutline">Back
to top</a></u></font></p>
      <p class="western"><br>
      <br>
      </p>
      <h2 class="western"><a name="2.2.Sensor Ports|outline"></a>Sensor
Ports</h2>
      <p class="body-text-3-western">If you are using a sensor
connected directly to a NXT sensor port, you can use the SensorPort
class and you can probably skip this section.<br>
But if you are using a port splitter, or a remote NXT or RCX, it may be
of interest. </p>
      <p class="body-text-3-western">The NXT sensor ports support three
different types of sensor:</p>
      <ul>
        <li>
          <p class="western">NXT Analog/Digital Sensors</p>
        </li>
        <li>
          <p class="western">I2C Sensors </p>
        </li>
        <li>
          <p class="western">Legacy RCX sensors</p>
        </li>
      </ul>
      <p class="body-text-3-western">Corresponding to each of the
different types of sensor, there is a corresponding interface:</p>
      <ul>
        <li>
          <p class="western">ADSensorPort which extends BasicSensorPort</p>
        </li>
        <li>
          <p class="western">I2CPort extends BasicSensorPort </p>
        </li>
        <li>
          <p class="western">LegacySensorPort extends ADSensorPort</p>
        </li>
      </ul>
      <p class="body-text-3-western">At the top of the interface
hierarchy is the BasicSensorPort. All sensor port classes implement
this interface. This interface allows the type and mode of a sensor to
be set. These type and mode constants are defined by the interface
SensorConstants, which is inherited by the BasicSensorPort interface. </p>
      <p class="body-text-2-western">The types of sensors are:</p>
      <p class="body-text-3-western"><br>
      </p>
      <table dir="ltr" border="1" bordercolor="#000000" cellpadding="7"
 cellspacing="0" width="394">
        <col width="213"> <col width="152"> <tbody>
          <tr valign="top">
            <td width="213">
            <p class="western">Sensor Type</p>
            </td>
            <td width="152">
            <p class="western">Code </p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_NO_SENSOR</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x00;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_SWITCH</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x01;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_TEMPERATURE</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x02;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_REFLECTION</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x03;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_ANGLE</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x04;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_LIGHT_ACTIVE</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x05;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_LIGHT_INACTIVE</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x06;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_SOUND_DB</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x07; </font></font> </p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_SOUND_DBA</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x08;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_CUSTOM</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x09;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_LOWSPEED</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x0A;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="213">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>TYPE_LOWSPEED_9V</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="152">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x0B;</font></font></p>
            </td>
          </tr>
        </tbody>
      </table>
and the modes are:
      <p class="western"></p>
      <table dir="ltr" border="1" bordercolor="#000000" cellpadding="7"
 cellspacing="0" hspace="24" width="394">
        <col width="196"> <col width="168"> <tbody>
          <tr valign="top">
            <td width="196">
            <p class="western">Mode</p>
            </td>
            <td width="168">
            <p class="western">Code</p>
            </td>
          </tr>
          <tr valign="top">
            <td width="196">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>MODE_RAW</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="168">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x00;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="196">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>MODE_BOOLEAN</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="168">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x20;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="196">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>MODE_TRANSITIONCNT</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="168">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x40;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="196">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>MODE_PERIODCOUNTER</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="168">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x60;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="196">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>MODE_PCTFULLSCALE</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="168">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0x80;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="196">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>MODE_CELSIUS</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="168">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0xA0;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="196">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>MODE_FARENHEIT</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="168">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0xC0;</font></font></p>
            </td>
          </tr>
          <tr valign="top">
            <td width="196">
            <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#0000c0"><font face="Courier New, monospace"><font size="2"><i>MODE_ANGLESTEP</i></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font>
            </p>
            </td>
            <td width="168">
            <p class="western"> <font face="Courier New, monospace"><font
 size="2">0xE0;</font></font></p>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      <br>
      <p class="body-text-3-western">The BasicSensorPort interface
defines the methods:</p>
      <ul>
        <li>
          <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>public</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#7f0055"><font face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2">
getMode();</font></font></font></p>
        </li>
        <li>
          <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>public</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#7f0055"><font face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2">
getType();</font></font></font></p>
        </li>
        <li>
          <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><span lang="fr-FR"><b>public</b></span></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"><span
 lang="fr-FR"> </span></font></font></font><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><span lang="fr-FR"><b>void</b></span></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"><span
 lang="fr-FR"> setMode(</span></font></font></font><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><span lang="fr-FR"><b>int</b></span></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"><span
 lang="fr-FR"> mode);</span></font></font></font></p>
        </li>
        <li>
          <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>public</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#7f0055"><font face="Courier New, monospace"><font size="2"><b>void</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2">
setType(</font></font></font><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2">
type);</font></font></font></p>
        </li>
        <li>
          <p class="western"><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>public</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2"> </font></font></font><font
 color="#7f0055"><font face="Courier New, monospace"><font size="2"><b>void</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2">
setTypeAndMode(</font></font></font><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2">
type, </font></font></font><font color="#7f0055"><font
 face="Courier New, monospace"><font size="2"><b>int</b></font></font></font><font
 color="#000000"><font face="Courier New, monospace"><font size="2">
mode);</font></font></font></p>
        </li>
      </ul>
      <p class="body-text-3-western">Most of the time, with leJOS NXJ,
these types and modes do not need to be set explicitly as it is done by
the constructor for the sensor class being used, e.g. TouchSensor,
LightSensor and UltrasonicSensor.</p>
      <p class="body-text-3-western">The implementation of the NXT
sensor port &#8211; SensorPort &#8211; supports all these interfaces. The reason
for separating out the different interfaces is that there are other
implementations of sensor ports that only support a subset of these
interfaces, and different types of sensors only require particular
interfaces to be implemented:</p>
      <ul>
        <li>
          <p class="western">I2C Sensors just require I2CPort</p>
        </li>
        <li>
          <p class="western">NXT Analog/Digital sensors just require
ADSensorPort</p>
        </li>
        <li>
          <p class="western">RCX sensors such as the RCX Light sensor
require LegacySensorPort</p>
        </li>
      </ul>
      <p class="body-text-3-western">Port splitters like the
Mindsensors Split-Nx only support I2C sensors and thus, effectively,
only support the I2CPort interface.</p>
      <p class="body-text-3-western">There are other implementations
that only support the other interfaces. For example the current
implementation of remote sensor ports &#8211; RemoteSensorPort &#8211; currently
only supports the ADSensorPort interface.</p>
      <p class="body-text-3-western">The classes for RCX Sensors
multiplexers &#8211; such as the forthcoming Mindsensors version &#8211; will only
support the LegacySensorPort interface.</p>
      <p class="western"><br>
      <br>
      </p>
      <p class="western"><font color="#0000ff"><u><a
 href="#1.Advanced%20Topics%20:%20%20Motors,%20Sensors,%20Third%20Party%20Hardware%7Coutline">Back
to top</a></u></font></p>
      <p class="western"><br>
      <br>
      </p>
      <h2 class="western"><a name="2.3.Sensors|outline"></a>Sensors</h2>
      <p class="body-text-3-western">Each sensor supported by leJOS NXJ
has a specific class that is used to access the sensor. Each of these
sensor classes has, as a parameter, a sensor port that supports the
required interface. Any sensor port class that implements the interface
can be specified as the parameter. As the SensorPort class supports all
the interfaces, if the sensor being accessed is directly connected to
the NXT, the parameter should be one of SensorPort.S1, SensorPort.S2,
SensorPort.S3 or SensorPort.S4. </p>
      <p class="body-text-3-western">If a port splitter is used the
parameter again should be one of SensorPort.S1, SensorPort.S2,
SensorPort.S3 or SensorPort.S4. This specifies the port that the
splitter is connected to. If multiple sensors are connected to the
splitter they must each have different I2C addresses. Most I2C sensors
can have their address changed &#8211; see the manufacturers instructions. To
specify the address that a sensor uses, if it is not the default, the
setAddress method of I2CSensor should be used.</p>
      <p class="body-text-3-western">The sensor ports supported by
leJOS NXJ together with the class that supports them and the type of
sensor port they require is given in the following table:</p>
      <p class="western"><img src="AdvancedHardware_htm_2d65e654.gif"
 name="Frame4" alt="Frame4" align="bottom" hspace="14"></p>
      <h3 class="western" lang="en-GB"><a
 name="2.3.1.RCX Sensors |outline"></a> RCX Sensors </h3>
      <p class="body-text-3-western">RCX sensors, other than the touch
sensor, are active sensors that have voltage applied for all but the
short period every three milliseconds when the measurement is taken.</p>
      <h4 class="western" lang="en-GB"><a
 name="2.3.1.1.RCX Light Sensor|outline"></a> RCX Light Sensor</h4>
      <p class="body-text-4-western">The RCX light sensor is supported
by the RCXLightSensor class.</p>
      <p class="body-text-4-western">The constructor is:</p>
      <ul>
        <li>
          <p class="western">public RCXLightSensor(LegacySensorPort
port)</p>
        </li>
      </ul>
      <p class="western">For example:</p>
      <p class="western"><span id="Frame5" dir="ltr"
 style="border: 1px solid rgb(0, 0, 0); padding: 0.05in 0.1in; background: rgb(255, 255, 255) none repeat scroll 0%; float: left; width: 4.97in; height: 0.46in; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
      <p class="western"><font face="Courier New, monospace"><font
 size="2">RCXLightSensor light = new RCXLightSensor(SensorPort.S1);</font></font></p>
      </span><br>
      <br>
      </p>
      <p class="western"><br>
      <br>
      </p>
      <p class="body-text-4-western">The RCX light sensor is
automatically activated, so current is applied to it and the LED comes
on. It can be passivated and activated explicitly.</p>
      <p class="body-text-4-western">The methods are:</p>
      <ul>
        <li>
          <p class="western">public int readValue()</p>
        </li>
        <li>
          <p class="western">public void activate()</p>
        </li>
        <li>
          <p class="western">public void passivate()</p>
        </li>
      </ul>
      <h4 class="western" lang="en-GB"><a
 name="2.3.1.2.RCX Touch Sensor|outline"></a> RCX Touch Sensor</h4>
      <p class="body-text-4-western">As the RCX touch sensor is a
passive sensor similar to the NXT version, it is supported by the
standard TouchSensor class.</p>
      <h4 class="western" lang="en-GB"><a
 name="2.3.1.3.RCX Rotation Sensor|outline"></a> RCX Rotation Sensor</h4>
      <p class="body-text-4-western">The RCX rotation sensor is not
currently supported by leJOS NXJ.</p>
      <h4 class="western" lang="en-GB"><a
 name="2.3.1.4.RCX Temperature Sensor|outline"></a> RCX Temperature
Sensor</h4>
      <p class="body-text-4-western" lang="en-GB">The constructor is:</p>
      <ul>
        <li>
          <p class="western">public
RCXTemperatureSensor(LegacySensorPort port)</p>
        </li>
        <li>
          <p class="western">The methods are:</p>
        </li>
        <li>
          <p class="western">int readValue()<br>
returns raw value</p>
        </li>
        <li>
          <p class="western">float getCelcius()<br>
return the temperature in degrees Celcius</p>
        </li>
        <li>
          <p class="western">float getFarenheit()<br>
return the temperature in degrees Farehheit</p>
        </li>
      </ul>
      <h3 class="western" lang="en-GB"><a
 name="2.3.2.Third Party sensors and other devices|outline"></a> Third
Party sensors and other devices</h3>
      <p class="body-text-3-western">leJOS NXJ supports many third
party sensors. The two main vendors of third party sensors are
Mindsensors and HiTechnic.</p>
      <p class="body-text-3-western">Most of the third party sensors
and I2C sensors and extend the I2CSensor class but there are also
Analog/Digital sensors such as the iTechnic Gyro sensor and the IR
Seeker.</p>
      <p class="body-text-3-western">There are also other I2C devices
supplied by the third parties, that are not sensors, but are
multiplexers or adapters.</p>
      <p class="body-text-3-western">The RCX Motor Multiplexer from
Mindsensors is an example of a multiplexer. It allows up to 4 RCX
motors to be connected to a NXT sensor port and to be independently
controlled.</p>
      <p class="body-text-3-western">The Mindstorms NRLink-Nx infra-red
communications adapter is an example of an adapter. It allows two-way
communication between the NXT and RCXs. It also allows control of Power
Function motors. </p>
      <h3 class="western" lang="en-GB"><a name="2.3.3.I2CSensor|outline"></a>
I2CSensor</h3>
      <p class="body-text-3-western">The I2CSensor class implements the
basic methods for accessing I2C sensors including getData and SendData.
      </p>
      <p class="body-text-3-western">It also includes methods that are
implemented by all the I2C sensors, including getVersion, getProductID
and getSensorType.</p>
      <p class="body-text-3-western">The method signatures are:</p>
      <ul>
        <li>
          <p class="western">public int getData(int register, byte []
buf, int len)</p>
        </li>
        <li>
          <p class="western">public int sendData(int register, byte []
buf, int len)</p>
        </li>
        <li>
          <p class="western">public int sendData(int register, byte
value)</p>
        </li>
        <li>
          <p class="western">public String getVersion()</p>
        </li>
        <li>
          <p class="western">public String getProductID()</p>
        </li>
        <li>
          <p class="western">public String getSensorType()</p>
        </li>
      </ul>
      <p class="body-text-4-western">leJOS NXJ uses 7-bit I2C
addresses, whereas I2C device specification often give them as 8-bit
addresses with the least significant bit set to zero. Most I2C sensors
use a default address of 0x01, which such specifications give as 0x02.
Most I2C devices allow the address to be changed.</p>
      <p class="body-text-4-western">The setAddress method can be used
to set the address used to talk to the I2C device &#8211; it defaults to 0x01.</p>
      <p class="body-text-4-western">Individual I2C devices have
registers that can be read and written and registers that can be used
to execute commands. Each I2C device has a class that extends I2CSensor
and has methods to access the registers and execute the commands
specific to that sensor.</p>
      <p class="body-text-4-western">The I2CSensor class can be used to
implement an I2C device explorer that reports what devices are
connected to which sensor sing which address &#8211; see the I2CDevices
sample. This is possible as all the NXT I2C sensors and other devices
support the getVersion, getProductID and getSensorType methods.</p>
      <p class="body-text-4-western">See the table above for the
complete list of sensors and other third party devices. </p>
      <p class="western"><br>
      <br>
      </p>
      <p class="western"><font color="#0000ff"><u><a
 href="#1.Advanced%20Topics%20:%20%20Motors,%20Sensors,%20Third%20Party%20Hardware%7Coutline">Back
to top</a></u></font></p>
      <p><br>
      <br>
      </p>
<!-- DO NOT TOUCH --> <br>
      <div class="NavBit"> <a target="_top"
 href="../Utilities/LejosUtilities.htm">&laquo;&nbsp;Previous</a>&nbsp;&#8226;&nbsp;<a
 href="../index.htm">TOC</a>&nbsp;&#8226;&nbsp;<a
 href="../Preliminaries/CompileAndRun.htm">Next&nbsp;&raquo;</a> </div>
      <br>
      </td>
      <td> <br>
      </td>
    </tr>
  </tbody>
</table>
</body>
</html>
