<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"
 lang="en">
<head>
<!-- CSS -->
  <link rel="stylesheet" href="../r_css/lejos-tutorial.css"
 type="text/css">
<!-- ICONO -->
  <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
</head>
<body>
<a id="top" name="top"></a><!-- N1: HEADER -->
<table class="n1t1" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td><img src="../r_media/images/tutorial_header1.jpg"></td>
      <td align="right"><img
 src="../r_media/images/tutorial_header2.jpg"></td>
    </tr>
  </tbody>
</table>
<!-- N2: CONTENTS -> NAVIGATION SYSTEMS AND CONTENTS -->
<table class="n2t1" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td class="n2t1r1c1">
      <div class="nolinkLESSON">Getting Started</div>
      <div class="linkAHEAD"><a href="#1">Getting Started on Microsoft
Windows</a></div>
      <div class="linkAHEAD2"><a href="#2">1. LEGO Mindstorms software</a></div>
      <div class="linkAHEAD2"><a href="#3">2. Java SDK</a></div>
      <div class="linkAHEAD2"><a href="#4">3. Apache Ant</a></div>
      <div class="linkAHEAD2"><a href="#5">4. Installing leJOS</a></div>
      <div class="linkAHEAD2"><a href="#6">5. Libusb</a></div>
      <div class="linkAHEAD2"><a href="#7">6. Setting up environment
variables</a></div>
      <div class="linkAHEAD2"><a href="#8">7. Using a Command Window</a></div>
      <div class="linkAHEAD2"><a href="#9">8. Flashing the NXJ firmware</a></div>
      <div class="linkAHEAD"><a href="#10">Compiling and running your
first program</a></div>
      <div class="linkAHEAD"><a href="#11">Writing your first leJOS NXJ
program</a></div>
      </td>
      <td>
      <div id="BreadCrumbs"> <a href="../index.htm" target="_top">Home
Page</a> &gt; <a href="#">Getting Started</a> </div>
      <div class="NavBit"> <a target="_top"
 href="../Preliminaries/Intro.htm">&laquo;&nbsp;Previous</a>&nbsp;&#8226;&nbsp;<a
 href="../index.htm">TOC</a>&nbsp;&#8226;&nbsp;<a
 href="../Preliminaries/CompileAndRun.htm">Next&nbsp;&raquo;</a> </div>
      <div id="PageTitle">Getting Started</div>
      <a id="1" name="1"></a>
      <h4>Getting Started on Microsoft Windows</h4>
      <p> This section tells you how to get started if your PC runs
Microsoft Window. If you use Linux or MAC OS X, see the sections at the
end of this document. </p>
      <p> To get started on Microsoft Windows you will need installed
on your PC: </p>
      <ol>
        <li>The LEGO Mindstorms software..</li>
        <li>A Java Standard Edition SDK.</li>
        <li>The Fantom drivers<br>
        </li>
        <li>Apache ant (optional)</li>
        <li>The leJOS NXJ software.</li>
      </ol>
      <p>You will then need to set up environment variables on your PC
and start a command window to type commands into. </p>
      <p>When all that is done, your PC is ready. </p>
      <p>You then need to flash the leJOS NXJ firmware, and after that
you can compile and run your first program. </p>
      <p>These steps are described in the sections below. </p>
      <p> <a href="#top">Back to top</a> </p>
      <a id="2" name="2"></a>
      <h5>1. LEGO Mindstorms software</h5>
      <p>
You will need the LEGO Mindstorms software installed on your PC, as its
USB driver is used by leJOS. Follow the LEGO instructions to install it
      </p>
      <p> <a href="#top">Back to top</a> </p>
      <a id="3" name="3"></a>
      <h5>2. Java SDK</h5>
      <p>
You will need a Java Standard Edition SDK on your PC. You can download
the latest from <a href="http://java.sun.com/" target="_blank">http://java.sun.com/</a>.
Follow the instructions for installing it. leJOS NXJ works has been
tested with versions 1.5 and 1.6, but will not work with earlier
version
      </p>
      <p> <a href="#top">Back to top</a> </p>
      <a id="4" name="4"></a>
      <h5>3. Apache ant</h5>
      <p>
Apache ant is useful for running the leJOS samples. If you have a Java
IDE on your system, such as Eclipse, it might already be installed. You
can download ant from <a href="http://ant.apache.org/bindownload.cgi"
 target="_blank">http://ant.apache.org/bindownload.cgi</a>. Installing
ant is simple &#8211; you just unzip it into a folder of your choice (e.g.
c:\ant). leJOS needs ant 1.7 or later
      </p>
      <p> <a href="#top">Back to top</a> </p>
      <a id="5" name="5"></a>
      <h5>4. Installing leJOS</h5>
      <p>
for a windows system. you can download an installer that takes care of
a number tasks for you., </p>
      <p>
You can download leJOS NXJ for Windows from <a
 href="http://lejos.sourceforge.net/nxj-downloads.php" target="_blank">http://lejos.sourceforge.net/nxj-downloads.php</a>.
Unzip it to a folder of your choice (e.g. c:\lejos0.6). Note that it
creates a subfolder called lejos_nxj.
      </p>
      <p> <a href="#top">Back to top</a> </p>
      <a id="6" name="6"></a>
      <h5>5. Fantom Driver</h5>
Download from
http://www.robotc.net/content/lego_down/lego_down.html&nbsp; one of the
required drivers, either the 32 bit version of the 64 bit version. <br>
      <br>
      <p> <a href="#top">Back to top</a> </p>
      <a id="7" name="7"></a>
      <h5>6. Setting up environment variables</h5>
      <p>
You need to set:
      </p>
      <table border="1">
        <tbody>
          <tr>
            <td><b>Variable</b></td>
            <td><b>Value</b></td>
            <td><b>Example</b></td>
          </tr>
          <tr>
            <td>NXJ_HOME</td>
            <td>the folder you installed leJOS NXJ into</td>
            <td>C:\lejos0.6\lejos_nxj</td>
          </tr>
          <tr>
            <td>JAVA_HOME</td>
            <td>the folder you installed the Java SDK into</td>
            <td>C:\Program Files\Java\jdk1.6.0_06</td>
          </tr>
          <tr>
            <td>ANT_HOME</td>
            <td>the folder you installed ant into</td>
            <td>C:\ant</td>
          </tr>
          <tr>
            <td>PATH</td>
            <td>Add the bin folders for Java, leJOS and ANT</td>
            <td>%NXJ_HOME%\bin;%JAVA_HOME%\bin;<br>
%ANT_HOME%\bin;%PATH%</td>
          </tr>
        </tbody>
      </table>
If you use the installer, it will set NXJ_HOME and PATH for you.
      <p>You can set these environment variables for all users on the
PC by going to Control Panel &gt; System &gt; Advanced &gt; Environment
Variables and creating them or editing existing values.
      </p>
      <p> <a href="#top">Back to top</a> </p>
      <a id="8" name="8"></a>
      <h5>7. Using a Command Window</h5>
      <p>
You can start a command window by Start &gt; Run and typing cmd.
      </p>
      <p>
Type set to list environment variables and check they are all set up
correctly.
      </p>
      <p> <a href="#top">Back to top</a> </p>
      <a id="9" name="9"></a>
      <h5>8. Flashing the NXJ firmware</h5>
      <p>
Make sure your NXT is attached to the PC by its USB cable, and switch
it on by pressing the orange button.
      </p>
      <p>
Then in your command window, type nxjflash to flash the leJOS NXJ
firmware. You will see some messages on your command window, and the
NXT should show the leJOS splash screen and then the leJOS menu.
      </p>
      <p> <a href="#top">Back to top</a> </p>
      <a id="10" name="10"></a>
      <h4>Compiling and running your first program</h4>
      <p> Java programs need to be compiled to class files before they
can be run. For leJOS NXJ, all the class files that are to be run on
the NXT needed to be linked to produce a binary file (with the
extension .nxj) and this must then be uploaded to the NXT. </p>
      <p> To run a sample program, such as the View.java sample, follow
these steps: </p>
      <p> Start a command window, and change directory to the View
sample folder: </p>
      <code> cd %NXJ_HOME%\samples\View </code>
      <p> Compile the program with the nxjc command: </p>
      <code> nxjc View.java </code>
      <p> Then link, upload and run it with the nxj command: </p>
      <code> nxj &#8211;r View </code>
      <p> You should see the menu of the View sample on your NXT. </p>
      <p> <a href="#top">Back to top</a> </p>
      <a id="11" name="11"></a>
      <h4>Writing your first leJOS NXJ program</h4>
      <p> Let us start with a simple &#8220;Hello World&#8221; program. We will
create a HelloWorld class in the default java package: </p>
      <p> <code> </code></p>
      <pre>public class HelloWorld<br>{<br><br>}<br>				</pre>
      <p> leJOS requires the standard main method for the program entry
point: </p>
      <code> </code>
      <pre>public class HelloWorld<br>{<br>	public static void main (String[] args)<br>{<br><br>}<br>}<br>				</pre>
      <p> leJOS NXJ supports the standard java System.out.println
method and scroll the output on the NXT LCD screen. </p>
      <code> </code>
      <pre>public class HelloWorld<br>{<br>  public static void main (String[] args)<br>  {<br>     System.out.println("Hello World");<br><br>  }<br>}<br>				</pre>
      <p>If you run this program as it is, it will display Hello World&#8221;
and then immediately return to the menu, so you will not be able to see
what is displayed (unless you are very quick). </p>
      <p>We either need the program to sleep for a while to allow the
text to be read, or to wait for a button to be pressed. Let us wait for
a button to be pressed. To do this we need to include the leJOS NXJ
Button class in the program. Button is in the lejos.nxt package. We can
either include lejos.nxt.Button or lejos.nxt.* to allow any of the
standard lejos.nxt classes to be used in the program. The Button class
has a method waitForPress() that waits for any button to be pressed.
You can find out what methods a class supports by looking at the API
documentation. the Click here. </p>
      <p>The API documentation is on the leJOS web site here and
included in the leJOS download in lejos_nxt/docs/apidocs/index.html. </p>
      <p>The complete HelloWorld program is: </p>
      <code> </code>
      <pre>import lejos.nxt.*;<br><br>public class HelloWorld<br>{<br>  public static void main (String[] args)<br>  {<br>     System.out.println("Hello World");<br>     Button.waitForPress();<br>  }<br>}<br>				</pre>
      <p> <a href="#top">Back to top</a> </p>
      <br>
      <div class="NavBit"> <a target="_top"
 href="../Preliminaries/Intro.htm">&laquo;&nbsp;Previous</a>&nbsp;&#8226;&nbsp;<a
 href="../index.htm">TOC</a>&nbsp;&#8226;&nbsp;<a
 href="../Preliminaries/CompileAndRun.htm">Next&nbsp;&raquo;</a> </div>
      <br>
      </td>
      <td> <br>
      </td>
    </tr>
  </tbody>
</table>
</body>
</html>
