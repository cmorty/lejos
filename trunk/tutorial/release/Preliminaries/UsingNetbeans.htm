<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head>
<!-- METADATA --><title>Using NetBeans</title>

<meta name="title" content="Using NetBeans" />
<meta name="DC.Title" content="Using NetBeans" />
<meta http-equiv="title" content="Using NetBeans" />
<meta name="description" content="How to use Netbeans for leJOS NXJ" />
<meta http-equiv="description" content="How to use Netbeans for leJOS NXJ" />
<meta http-equiv="DC.Description" content="How to use Netbeans for leJOS NXJ" />
<meta name="keywords" content="Java, leJOS, leJOS project, NXJ, NXJ Tutorial" />
<meta http-equiv="keywords" content="Java, leJOS, leJOS project, NXJ, NXJ Tutorial" />
<meta name="VW96.objecttype" content="Document" />
<meta http-equiv="content-language" content="en" />
<meta name="DC.Language" scheme="RFC1766" content="English" />
<meta name="distribution" content="global" />
<meta name="resource-type" content="document" />
<!-- SEARCH ENGINE -->
<meta name="robots" content="all" />
<!-- AUTHOR METADATA -->
<meta name="Author" content="Lawrie Griffiths" />
<!-- CSS -->
<link rel="stylesheet" href="../r_css/lejos-tutorial.css" type="text/css" />
<!-- ICON -->
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
</head>

<body>
<a id="top" name="top"></a><!-- N1: HEADER -->
<table class="n1t1" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td valign="top"><img src="../r_media/images/tutorial_header1.jpg" /></td>
<td align="right" valign="top"><img src="../r_media/images/tutorial_header2.jpg" /></td>
</tr>
</tbody>
</table>
<!-- N2: CONTENTS -> NAVIGATION SYSTEMS AND CONTENTS -->
<table class="n2t1" cellpadding="0" cellspacing="0">
<tr>
	<td class="n2t1r1c1"><!-- LEFT NAVIGATION SYSTEM -->

		<div class="nolinkLESSON">Using Netbeans</div>
		<div class="linkAHEAD"><a href="#1">Installing Netbeans</a></div>
		<div class="linkAHEAD"><a href="#2">Using the samples project</a></div>
		<div class="linkAHEAD"><a href="#3">Installing the Netbeans plugin</a></div>
		<div class="linkAHEAD"><a href="#4">Creating your own project using the Netbeans Plugin</a></div>
	</td>
<td><!-- BREADCRUMBS -->
<div id="BreadCrumbs"> <a href="../index.htm" target="_top">Home Page</a>&gt; <a href="#">Using NetBeans</a> </div>
<!-- NAVIGATION TOOL -->
<div class="NavBit"> <a target="_top" href="../Preliminaries/GettingStarted.htm">«&nbsp;Previous</a>&nbsp;&#8226;&nbsp;<a href="../index.htm">TOC</a>&nbsp;&#8226;&nbsp;<a href="../MenuSystem/MenuSystem.htm">&nbsp;Next&nbsp;»</a>
</div>
<!-- CONTENT AREA --><!-- CONTENT TITLE -->
<div id="PageTitle">Using NetBeans</div>

<a name="#1"></a>
<h4>Installing Netbeans</h4>
<p> You can download Netbeans from <a href="http://www.netbeans.org/downloads/index.html" target="_blank">Netbeans downloads</a>. 
If you are only going to use Netbeans for leJOS NXJ programs, you will only need standard Java development capabilities
- you will not need a version that supports the Java Enterprise Edition or other languages such as C++. A package such as "Java SE" is
sufficient for leJOS NXJ. </p>

<p>If you are not familiar with NetBeans, try the NetBeans quick start tutorial <a href="http://www.netbeans.org/kb/60/java/quickstart.html" target="_blank">http://www.netbeans.org/kb/60/java/quickstart.html</a>.</p>

<p>For an introduction to developing general Java applications, see <a href="http://www.netbeans.org/kb/60/java/javase-intro.html%23setup" target="_blank">http://www.netbeans.org/kb/60/java/javase-intro.html#setup</a>.</p>

<p>And to learn some shortcuts in using the Editor, see <a href="http://www.netbeans.org/kb/60/java/editor-tips.html" target="_blank">http://www.netbeans.org/kb/60/java/editor-tips.html</a>.</p>

<a name="#2"></a>
<h4>Using the samples project</h4>

<p>You can open the leJOS NXJ samples project by selecting
File &gt; Open Project and browsing to the samples folder in the
location where you installed the leJOS java projects.</p>

<p> There is a source folder within the samples project for
each sample. Open up the BlueStats source folder and the "default
package" that it contains and you will see the BlueStats.java sample
file and a build.xml file. The build.xml file is a build file for the
sample written using "ant". Ant is a build system specially designed
for Java - it comes bundled with Netbeans.</p>

<p> Ant build files have different "targets". The default
target for the sample build.xml files is "uploadandrun". This means
that if you run the build.xml file and select this target it will
compile the Java source, link it with the standard leJOS classes
(classes.jar) to produce a binary file and then upload ad run the
binary file.</p>

<p>Turn on your NXT, make sure it is connected by USB or
can be connected to via Bluetooth. Then right-click on the build.xml
and select "Run Target" and "uploadandrun":</p>

<img src="netbeansbuild.jpg" />

<p> You should see output like the following in the Console window:</p>

<pre><font size=-2">
Buildfile: C:\Users\Lawrie\leJOSProjects\samples\BlueStats\build.xml
clean:
compile:
    [javac] Compiling 1 source file to C:\Users\Lawrie\leJOSProjects\samples\BlueStats
link:
     [java] Class 0: java.lang.Object
     [java] Class 1: java.lang.Thread
     [java] Class 2: java.lang.String
     [java] Class 3: java.lang.Throwable
     [java] Class 4: java.lang.Error
     [java] Class 5: java.lang.OutOfMemoryError
     [java] Class 6: java.lang.NoSuchMethodError
     [java] Class 7: java.lang.StackOverflowError
     [java] Class 8: java.lang.NullPointerException
     [java] Class 9: java.lang.ClassCastException
...
     [java] Class 38: lejos.nxt.Flash
     [java] Method 0: Class: java.lang.Object Signature: <init>()V PC 3222 Signature id 2
     [java] Method 1: Class: java.lang.Object Signature: notifyAll()V Native id 5
     [java] Method 2: Class: java.lang.Object Signature: wait()V Native id 6
     [java] Method 3: Class: java.lang.Object Signature: wait(J)V Native id 7
     [java] Method 4: Class: java.lang.Object Signature: toString()Ljava/lang/String; PC 3223 Signature id 95
...
     [java] Method 147: Class: lejos.nxt.Flash Signature: writePage([BI)V Native id 75
     [java] Method 148: Class: lejos.nxt.Flash Signature: <clinit>()V PC 9337 Signature id 3
     [java] Master record    : 16 bytes.
     [java] Class records    : 39 (390 bytes).
     [java] Field records    : 80 (80 bytes).
     [java] Static fields    : 53 (106 bytes).
     [java] Static state     : 53 (202 bytes).
     [java] Constant records : 26 (104 bytes).
     [java] Constant values  : 26 (252 bytes).
     [java] Method records   : 149 (1788 bytes).
     [java] Exception records: 67 (536 bytes).
     [java] Code             : 117 (6122 bytes).
     [java] Total            : 9597 bytes.
uploadandrun:
     [java] Found nxt name NOISY address 001653007848
     [java] leJOS NXJ> Upload successful in 1974 milliseconds
BUILD SUCCESSFUL
Total time: 4 seconds
</font></pre>

<p>This verbose output from the leJOS linker tells you all
the classes and methods that have been included in your program. It is
very useful for debugging your programs.</p>

<p> You should see the Bluetooth statistics on your NXT LCD
screen. You can stop the BlueStats program by pressing ESC on the NXT.</p>

<p> You can browse through the samples and try them out.
Some of the samples need to communicate with a program on the PC - see
"Using the PC samples project" below. Other samples need specific
sensors attached to the NXT or a robot with specific characteristics -
such as a steerable wheeled vehicle. See the comments at the start of
each of the Java files to understand the requirements of the sample.</p>

<p>Note that the samples project uses default package names
for simplicity. This is not good practice for Java programming so when
we create our own project, we will use a proper package name.</p>

<p>Note also that the samples project contains multiple
programs each with a main method. This is convenient for showing lots
of examples of leJOS NXJ programming in one project, but is not best
practice. When we create our own projects, we will have a separate
Eclipse project for each leJOS NXJ program</p>

<!-- WEB TOOL TO GO TO TOP OF THE DOCUMENT --> 
<a href="#top">Back to top</a>

<a name="#3"></a>
<h4>Installing the Netbeans Plugin</h4>
<p>It is very easy to install the Netbeans Plugin. Just Open Netbeans.In Tools &gt; Plugins, click on the Downloaded tab, and click on AddPlugins.
 Then browse to the directory where you installed the leJOS NXJ projects. In it, find NXJPlugin/build/nxjplugin.nbm .
 Click on it, and it will be installed.
</p>

<!-- WEB TOOL TO GO TO TOP OF THE DOCUMENT --> 
<a href="#top">Back to top</a>

<a name="#4"></a>
<h4>Creating your own project using the Netbeans Plugin</h4>

<p>You should not try to write
code for the NXT using the standard Java Project of NetBeans.
Instead, you need a special type of project that
will use the leJOS tools to link and upload your code. The easiest way
to create a NXJ project is to use the NetBeans plugin.  

<p>To create a NXJ project, select File&gt;New Project. then "Samples". In the
Projects tab, Select "NXJSample" and click next.  The New Project window will open.
Type in the name you want to use, such as "myproject" and click "finish'"</p>

<p> You should now see "myproject" in the Projects tab.
 In Source Packages &gt; sample
you will see NCJMain.java., which by
default is the Main class in your project.  Click on it to
open it in the editor.  You can rename this class by
selecting the name, and using the Refactor &gt; Rename.
Likewise, you can change the name of the package the same
way.  </p>

<p>The first time you create a new NXJ project,
you may need to edit the library. To do
this right-click on "myproject", select "Properties" and then
"Libraries", then "NXJClasses" and ""Edit". 
The Library Classpath is probably
"C:\Program Files\lejosNXJ\lib\classes.jar."  If this is in
fact the path to your lejosNXJ installation, all should be well.
 If not, you need to browse to it. 
Once this is set correctly, it will work for all
your NXJ projects. </p>

<p>The plugin copies a build.xml file into your
project.  You can select and run targets in it just as you
did with the Samples project. Or can use the various shourcut
keys the work with standard Java projects that you learned in the
NetBeans tutorials.</p>

<!-- WEB TOOL TO GO TO TOP OF THE DOCUMENT --> 
<a href="#top">Back to top</a>
<p/>
<!-- END CONTENT AREA -->
<div class="NavBit"> <a target="_top" href="../Preliminaries/GettingStarted.htm">«&nbsp;Previous</a>&nbsp;&#8226;&nbsp;<a href="../index.htm">&nbsp;TOC&nbsp;</a>&#8226;<a href="../MenuSystem/MenuSystem.htm">&nbsp;Next&nbsp;»</a>
</div>
</td>
</tr>
</table>
</body></html>