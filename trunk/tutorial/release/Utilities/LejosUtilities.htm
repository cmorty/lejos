<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" /><title>leJOS Utilities</title>

<!-- METADATA -->
<meta name="title" content="leJOS Utilities" />
<meta name="DC.Title" content="leJOS Utilities" />
<meta name="description" content="leJOS Utilities" />
<meta name="DC.Description" content="leJOS Utilities" />
<meta name="keywords" content="Java, leJOS, leJOS project, NXJ, NXJ Tutorial" />
<meta name="VW96.objecttype" content="Document" />
<meta http-equiv="content-language" content="en" />
<meta name="DC.Language" scheme="RFC1766" content="English" />
<meta name="distribution" content="global" />
<meta name="resource-type" content="document" />
<!-- SEARCH ENGINE -->
<meta name="robots" content="all" />
<!-- AUTHOR METADATA -->
<meta name="AUTHOR" content="Roger Glassey" />
<!-- CSS -->
<link rel="stylesheet" href="../r_css/lejos-tutorial.css" type="text/css" />
<!-- ICON -->
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
</head>

  <body>
<a id="top" name="top"></a><!-- N1: HEADER -->
<table class="n1t1" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td><img src="../r_media/images/tutorial_header1.jpg" /></td>
<td align="right"><img src="../r_media/images/tutorial_header2.jpg" /></td>
</tr>
</tbody>
</table>
<!-- N2: CONTENTS -> NAVIGATION SYSTEMS AND CONTENTS -->
<table class="n2t1" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td class="n2t1r1c1"><!-- LEFT NAVIGATION SYSTEM -->
<div class="nolinkLESSON">leJOS Utilities</div>
<div class="linkAHEAD"><a href="#1">ButtonCounter</a></div>
<div class="linkAHEAD"><a href="#2">Datalogger</a></div>
<div class="linkAHEAD"><a href="#nxtdl">NXTDataLogger</a></div>
<div class="linkAHEAD"><a href="#3">Stopwatch</a></div>
<div class="linkAHEAD"><a href="#4">Timer</a></div>
<div class="linkAHEAD2"><a href="#5">Timer
Listener</a></div>
<div class="linkAHEAD"><a href="#6">
Java Utilities</a></div>
</td>
<td>
<div id="BreadCrumbs"> <a href="../index.htm" target="_top">Home Page</a> &gt; <a href="#">leJOS
Utilities</a> </div>
<div class="NavBit"> <a target="_top" href="../PC_GUI/PCGUITools.htm">«&nbsp;Previous</a>&nbsp;•&nbsp;<a href="../index.htm">TOC</a>&nbsp;•&nbsp;<a href="../AdvancedTopics/Advanced_Hardware.htm">Next&nbsp;»</a>
</div>
<!-- CONTENT AREA --><!-- CONTENT TITLE -->
<div id="PageTitle">leJOS Utilities</div>
<a name="1"> </a>
<h4>ButtonCounter</h4>
<p>This class allows simple data entry by pressing the NXT
buttons. It counts the number of presses of the <b>Left</b>
and <b>Right</b> buttons, Pressing <b>Left </b>(or
<b>Right</b>) simultaneously with <b>Enter</b>
decrements the count.</p>
<p>To start counting, call one of these methods:</p>
<ul class="BlueArrows">
<li>
<p>void count(String message)</p>
</li>
<li>
<p>void count(String message, int left, int right)</p>
</li>
</ul>
<p>These methods exit when the user presses <b>ESC</b>.
Then the values can be retrieved by </p>
<ul class="BlueArrows">
<li>
<p>int getLeftCount()</p>
</li>
<li>
<p>int getRightCount()</p>
</li>
</ul>
<p>The complete API for Button Counter is <a href="http://lejos.sourceforge.net/nxt/nxj/api/lejos/util/ButtonCounter.html">here</a></p>
<a name="2"> </a>
<h4>DataLogger</h4>
<p>This class stores float values in an array and transmits
them to the <a href="../PC_GUI/PCGUITools.htm">DataViewer</a>
application running on a PC. It will use BlueTooth or USB as selected
by the user at run time. </p>
<p>Methods:</p>
<ul class="BlueArrows">
<li>void writeLog(float value) <br />
<br />
Writes a <i>value </i> to the array </li>
<li>void writeLog(float v0, float v1) <br />
<br />
Writes two values to the array </li>
<li>void transmit()<br />
<br />
Transmits the data to the PC. When this method is called, a message is
displayed on the NXT screen allowing the user to select USB or
BlueTooth as the transmission channel</li>
</ul>
<p>The complete API of Data:logger is <a href="http://lejos.sourceforge.net/nxt/nxj/api/lejos/util/Datalogger.html">here</a>.<br />
</p>
<h4><a name="nxtdl"></a></h4>
<h4>NXTDataLogger</h4>
<p>This class provides logging methods for all primitive
datatypes and transmits them to the <a href="../PC_GUI/PCGUITools.htm#12">NXT Charting Logger</a>
application running on a PC. It supports real time and deferred
(cached) data logging using either BlueTooth or USB as implemented by
the user.<br />
</p>
<p>Methods:</p>
<ul class="BlueArrows">
<li>startRealtimeLog(NXTConnection connection)<br />
Start a realtime logging session using the passed NXTConnection. The
setColumns() method must be called after this method is called and
before the first writeLog() method is called.<br />
<br />
</li>
<li>startCachingLog()<br />
Sets caching (deferred) logging mode and intializes the data cache.
This is the default mode at instantiation. The setColumns() method must
be called after this method is called and before the first writeLog()
method is called.<br />
<br />
</li>
<li>void setColumns(<a target="_blank" href="http://lejos.sourceforge.net/nxt/nxj/api/lejos/util/LogColumn.html">LogColumn</a>[]
columnDefs)<br />
Sets up the column definitions for your logging session.<br />
<br />
</li>
<li>void writeLog(&lt;primitive datatype&gt;) <br />
Writes a <i>value </i> to the array <br />
<br />
</li>
<li>writeComment(String comment)<br />
Writes a comment to the NXT Charting Logger (realtime mode only).<br />
<br />
</li>
<li>void finishLine()<br />
Completes one row of logged data and timestamps it.<br />
<br />
</li>
<li>sendCache(NXTConnection connection)<br />
Sends the log cache using passed NXTConnection. The connection must
already be established. Valid only for caching (deferred) logging using
startCachingLog().<br />
<br />
</li>
<li>stopLogging()<br />
Stops the current logging session
and closes down the data streams and connection.</li>
</ul>
<p>To support the structured nature of the API and NXT
Charting Logger data requirements, there is a specific order in which
the methods must be called to set up a logging session. The details and
complete API of NXTDataLogger is <a target="_blank" href="http://lejos.sourceforge.net/nxt/nxj/api/lejos/util/NXTDataLogger.html">here</a>.
</p>
<a name="3"> </a>
<h4>Stopwatch</h4>
<p>This class represents an elapsed time stopwatch. You can
construct as many instances as you need.</p>
<p>There are only two methods</p>
<ul class="BlueArrows">
<li>
<p>void reset()</p>
<p>resets the watch to zero</p>
</li>
<li>
<p>int elapsed()</p>
<p>returns the elapsed time (since the last reset() in
milliseconds.</p>
</li>
</ul>
<p>The API of Stopwatch is <a href="http://lejos.sourceforge.net/nxt/nxj/api/lejos/util/Stopwatch.html">here</a>.</p>
<a name="4"> </a>
<h4>Timer</h4>
<p>This class is used with a Timer Listener, to which it
sends <i>timedOut()</i> message periodically. It uses a
private thread.</p>
<p>Methods:</p>
<ul class="BlueArrows">
<li>
<p>void start()</p>
<p>call this first.</p>
</li>
<li>
<p>void setDelay(int delay)</p>
<p>set the interval between calls to the listener.</p>
</li>
<li>
<p>void stop()</p>
</li>
</ul>
<p>The Timer API is <a href="http://lejos.sourceforge.net/nxt/nxj/api/lejos/util/Timer.html">here</a>.</p>
<a name="5"></a>
<h5>Timer Listener</h5>
<p>To use the Timer, you need a class that implements this
interface. This interface has only one method.</p>
<ul class="BlueArrows">
<li>
<p>void timedOut()</p>
<p>which is called every time the Timer fires.</p>
</li>
</ul>
<p><a href="#top">Back to top</a></p>
<a name="6"></a>
<h4>Java Utilities</h4>
<p>leJOS NXJ supports several of the Java data structures.
They are:</p>
<ul class="BlueArrows">
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/ArrayList.html">ArrayList</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/BitSet.html">BitSet</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/Hashtable.html">Hashtable</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/Queue.html">Queue</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/Stack.html">Stack</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/Vector.html">Vector</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/Enumeration.html">Enumeration</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/index.html?java/util/Enumeration.html">Iterator</a></li>
</ul>
<p>It also supports two other Java utilities:</p>
<ul class="BlueArrows">
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/Random.html">Random</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/Properties.html">Properties</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/StringTokenizer.html">StringTokenizer</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/Timer.html">Timer</a></li>
<li><a href="http://lejos.sourceforge.net/nxt/nxj/api/java/util/Properties.html">TimerTask</a></li>
</ul>
<p><a href="#top">Back to top</a></p>
<p> </p>
<div class="NavBit"> <a target="_top" href="../PC_GUI/PCGUITools.htm">«&nbsp;Previous</a>&nbsp;•&nbsp;<a href="../index.htm">TOC</a>&nbsp;•&nbsp;<a href="../AdvancedTopics/Advanced_Hardware.htm">Next&nbsp;»</a>
</div>
</td>
</tr>
</tbody>
</table>
</body></html>