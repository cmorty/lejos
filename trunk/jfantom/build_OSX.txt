***************************
To build the fantom JNI wrapper for OS X:
***************************

NOTE: the Makefile and this guide is for Snow Leopard only.
      Snow Leopard is the last OS X that supports building
      binaries for OS X 10.4 ppc and i386. 

1) Install XCode from the Snow Leopard DVD. Make sure to include all options, in particular
   support for building for OS X 10.4

2) Install the latest Lego Fantom driver (1.1.3)

3) Download the install the SDK from
   http://mindstorms.lego.com/en-us/support/files/Advanced.aspx

4) set LEJOS_NXT_OSX_FANTOMINC in Makefile.osx

5) run make -f Makefile.osx clean all 




Background about the fakeNiSpy hack:

On OS X, the Fantom library depends on the VISA framework, as you can verify with
  otool -L /Library/Frameworks/Fantom.framework/Versions/1/Fantom
The VISA framework depends on the library
  /Library/Frameworks/NiSpyLog.framework/Versions/2/NiSpyLog
However, this library is a weak dependency. This can be verified via
  otool -l /Library/Frameworks/VISA.framework/Versions/A/VISA 
Weak dependencies are not required at runtime, but the linker insists to load it.
To make the linker happy, we provide the linker with a replacement for that library
via the -dylib_file parameter. Note, that the produced binary (libjfantom.jnilib)
does not seem to be affected in any way (i.e. it runs, and the fake library does not
show up in the output of otool -L or -l).
 